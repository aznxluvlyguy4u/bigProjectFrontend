<div id="profile">

    <!--BREADCRUMBS-->
    <div class="row">
        <ul class="breadcrumbs">
            <li><a routerLink="/dashboard">{{ 'DASHBOARD' | translate }}</a></li>
            <li>{{ 'PROFILE' | translate }}</li>
        </ul>
    </div>

    <div class="row">
        <div class="page-header">
            <div class="page-title">{{ 'PROFILE' | translate }}</div>
        </div>
    </div>

    <!--PAGE CONTENT-->
    <div class="row form-container">
        <div [formGroup]="form" class="large-4 end">

            <div class="row">
                <div class="large-6 columns">
                    <label class="middle">{{ 'FIRST NAME' | translate }} * </label>
                </div>
                <div class="large-6 columns">
                    <input type="text" [(ngModel)]="profile.first_name" formControlName="first_name">
                </div>
            </div>

            <div class="row">
                <div class="large-6 columns">
                    <label class="middle">{{ 'LAST NAME' | translate }} * </label>
                </div>
                <div class="large-6 columns">
                    <input type="text" [(ngModel)]="profile.last_name" formControlName="last_name">
                </div>
            </div>

            <div class="row">
                <div class="large-6 columns">
                    <label class="middle">{{ 'E-MAIL ADDRESS' | translate }} * </label>
                </div>
                <div class="large-6 columns">
                    <input type="text" [(ngModel)]="profile.email_address" formControlName="email_address">
                </div>
            </div>

            <div class="row">
                <div class="large-6 columns">
                    <label class="middle">{{ 'CHANGE PASSWORD' | translate }}</label>
                </div>
                <div class="large-6 columns">
                    <input type="password" [(ngModel)]="profile.new_password" formControlName="password">
                </div>
            </div>

            <div class="row">
                <div class="large-6 columns">
                    <label class="middle">{{ 'REPEAT PASSWORD' | translate }}</label>
                </div>
                <div class="large-6 columns">
                    <input type="password" formControlName="repeat_password">
                </div>
            </div>
            <div class="row">
                <div class="large-6 columns">
                    &nbsp;
                </div>
                <div class="large-6 columns">
                    <button type="button" [disabled]="isSaving" (click)="saveProfile()" class="small primary button expanded">
                        <span *ngIf="isSaving">
                            <i class="fa fa-gear fa-spin fa-fw"></i>
                        </span>
                        <span *ngIf="!isSaving">
                            {{ 'SAVE' | translate }}
                        </span>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="large-12 columns">
                    <span class="pull-right required-description"> * {{ 'IS A REQUIRED FIELD' | translate }} </span>
                </div>
            </div>
            <div class="row">
                <div class="large-12 columns">
                    <div *ngIf="!form.valid">
                        <div *ngIf="(form.controls.password.hasError('required') || form.controls.repeat_password.hasError('required')) && !isValidForm" class="input-error-msg">{{ 'FILL IN ALL FIELDS' | translate }}</div>
                        <div *ngIf="form.hasError('invalidPassword') && !isValidForm" class="input-error-msg">{{ 'THE REPEATED PASSWORD DOES NOT MATCH' | translate }}</div>
                        <div *ngIf="form.controls.password.hasError('minlength') && !isValidForm" class="input-error-msg">{{ 'THE PASSWORD NEEDS TO BE LONGER THAN 6 CHARACTERS' | translate }}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>